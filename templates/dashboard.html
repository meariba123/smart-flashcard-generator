{% extends "layout.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
<script defer src="static/js/dashboard.js"></script>
<div class="dashboard-container">
    <div class="nav-pill-container">
        <div class="nav-pill">
            <a href="{{ url_for('dashboard') }}" class="active">Dashboard</a>
            <a href="{{ url_for('view_sets') }}">View Flashcards</a>
            <a href="#">Review Flashcards</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        </div>
    </div>

    <div class="welcome-header">
        <h1>Welcome, {{ session.username }}! Ready to turn your notes into knowledge?</h1>
        <p>This dashboard is your central hub for creating and managing your smart flashcards.</p>
    </div>

    <div class="steps-row">
        <div class="step-box">
            <img src="/static/icons/file-icon.png" alt="Upload">
            <div>
                <h3>1. Upload Notes</h3>
                <p>Select your CS files (.txt, .docx, .pdf) for AI extraction.</p>
            </div>
        </div>
        <div class="step-box">
            <img src="/static/icons/cards-icon.png" alt="View">
            <div>
                <h3>2. View Flashcards</h3>
                <p>Access sets organized by AI confidence score.</p>
            </div>
        </div>
        <div class="step-box">
            <img src="/static/icons/brain-icon.png" alt="Quiz">
            <div>
                <h3>3. Review & Quiz</h3>
                <p>Monitor your mastery via interactive quizzes.</p>
            </div>
        </div>
    </div>

<div class="upload-box"> 
    <h3>Start a New Study Set</h3> 
    <p>Drag and drop your file here, or click to browse.</p> 
    
    <input type="file" name="notes_file" id="fileInput" hidden onchange="handleFileUpload()"> 
    <button type="button" onclick="document.getElementById('fileInput').click()"> Choose file </button> 
    <span id="fileName"></span>

    <div id="loadingStatus" style="display:none; margin-top:10px; color:#5d2a9d;">
        <b>Processing your notes... please wait.</b>
    </div>
</div>
{% endblock %}